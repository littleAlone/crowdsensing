{"ast":null,"code":"import _regeneratorRuntime from \"F:/python/course/crowdsensing/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"F:/python/course/crowdsensing/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"F:/python/course/crowdsensing/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/web.timers.js\";\n// 导入组件\nimport SimulationCanvas from '../components/SimulationCanvas.vue';\nimport SimulationInfo from '../components/simulation/SimulationInfo.vue';\nimport HunterStatisticsChart from '../components/simulation/HunterStatisticsChart.vue';\nimport PerformanceMonitor from '../components/simulation/PerformanceMonitor.vue';\nimport RoleConfigPanel from '../components/simulation/RoleConfigPanel.vue';\nimport EnvironmentSettingsPanel from '../components/simulation/EnvironmentSettingsPanel.vue';\nimport { setupWebSocket, closeWebSocket } from '../components/simulation/WebSocketManager.js';\nimport { mapState, mapGetters } from 'vuex';\nexport default {\n  name: 'SimulationDetail',\n  components: {\n    SimulationCanvas: SimulationCanvas,\n    SimulationInfo: SimulationInfo,\n    HunterStatisticsChart: HunterStatisticsChart,\n    PerformanceMonitor: PerformanceMonitor,\n    EnvironmentSettingsPanel: EnvironmentSettingsPanel\n  },\n  props: {\n    simulationId: {\n      type: Number,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      simulation: {},\n      isRunning: false,\n      isCaptured: false,\n      socket: null,\n      showTrails: true,\n      showVisionRange: false,\n      showCommunicationRange: false,\n      showDeleteDialog: false,\n      deleteLoading: false,\n      // 添加缺失的响应式属性\n      activeTab: 0,\n      // WebSocket相关状态\n      wsLatency: 0,\n      lastMessageTime: 0,\n      // 连接状态提示\n      showConnectionStatus: false,\n      connectionStatusText: '',\n      connectionStatusColor: 'info',\n      // 性能监控\n      renderTime: 0,\n      lastRenderTimestamp: 0,\n      // 数据处理相关\n      dataUpdateTimer: null,\n      // 连接状态标记\n      isConnecting: false\n    };\n  },\n  computed: _objectSpread(_objectSpread(_objectSpread({}, mapState({\n    storeCurrentSimulation: function storeCurrentSimulation(state) {\n      return state.currentSimulation;\n    },\n    simulationsLoading: function simulationsLoading(state) {\n      return state.loading;\n    }\n  })), mapGetters(['getSimulationById'])), {}, {\n    statusChipColor: function statusChipColor() {\n      if (this.isCaptured) return 'success';\n      if (this.isRunning) return 'primary';\n      return 'grey';\n    },\n    statusChipText: function statusChipText() {\n      if (this.isCaptured) return '已捕获';\n      if (this.isRunning) return '进行中';\n      return '已停止';\n    }\n  }),\n  created: function created() {\n    // 注册错误处理事件监听\n    this.$root.$on('api-error', this.handleApiError);\n  },\n  mounted: function mounted() {\n    console.log('SimulationDetail mounted');\n    // 监听页面可见性变化\n    document.addEventListener('visibilitychange', this.handleVisibilityChange);\n    window.addEventListener('focus', this.handleWindowFocus);\n    window.addEventListener('blur', this.handleWindowBlur);\n\n    // 初始化组件\n    this.initializeComponent();\n  },\n  beforeDestroy: function beforeDestroy() {\n    console.log('SimulationDetail beforeDestroy');\n    // 清理资源\n    this.closeWebSocketConnection();\n    this.cleanupTimers();\n\n    // 移除事件监听\n    this.$root.$off('api-error', this.handleApiError);\n    document.removeEventListener('visibilitychange', this.handleVisibilityChange);\n    window.removeEventListener('focus', this.handleWindowFocus);\n    window.removeEventListener('blur', this.handleWindowBlur);\n  },\n  methods: {\n    // 初始化组件\n    initializeComponent: function initializeComponent() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              console.log('初始化组件...');\n              _context.prev = 1;\n              _context.next = 4;\n              return _this.fetchSimulation();\n            case 4:\n              console.log('模拟数据获取成功:', _this.simulation.id);\n\n              // 设置WebSocket连接\n              _this.setupWebSocketConnection();\n              _context.next = 12;\n              break;\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              console.error('初始化组件失败:', _context.t0);\n              _this.showErrorStatus('初始化失败，请刷新页面重试');\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[1, 8]]);\n      }))();\n    },\n    // 获取模拟数据\n    fetchSimulation: function fetchSimulation() {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var storeSimulation, response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              console.log('获取模拟数据, ID:', _this2.simulationId);\n              // 尝试从store获取数据\n              storeSimulation = _this2.getSimulationById(_this2.simulationId); // 如果store中没有数据，从API获取\n              if (storeSimulation) {\n                _context2.next = 11;\n                break;\n              }\n              console.log('从API获取模拟数据');\n              _context2.next = 7;\n              return _this2.$store.dispatch('fetchSimulation', _this2.simulationId);\n            case 7:\n              response = _context2.sent;\n              _this2.simulation = response;\n              _context2.next = 13;\n              break;\n            case 11:\n              console.log('从Store获取模拟数据');\n              _this2.simulation = storeSimulation;\n            case 13:\n              // 更新状态\n              _this2.isRunning = _this2.simulation.is_running;\n              _this2.isCaptured = _this2.simulation.is_captured;\n              console.log('模拟数据获取完成:', _this2.simulation.name);\n              return _context2.abrupt(\"return\", _this2.simulation);\n            case 19:\n              _context2.prev = 19;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error('获取模拟数据失败:', _context2.t0);\n              _this2.$toast.error('获取模拟数据失败');\n              throw _context2.t0;\n            case 24:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[0, 19]]);\n      }))();\n    },\n    // 设置WebSocket连接\n    setupWebSocketConnection: function setupWebSocketConnection() {\n      var _this3 = this;\n      // 连接创建中标记，防止重复创建\n      if (this.isConnecting) {\n        console.log('WebSocket连接已在创建中，避免重复创建');\n        return;\n      }\n      this.isConnecting = true;\n\n      // 确保先关闭已有连接\n      if (this.socket) {\n        console.log('关闭已有WebSocket连接，准备创建新连接');\n        this.closeWebSocketConnection();\n\n        // 添加短延迟确保连接完全关闭\n        setTimeout(function () {\n          _this3.createNewWebSocketConnection();\n        }, 300);\n      } else {\n        this.createNewWebSocketConnection();\n      }\n    },\n    // 提取创建连接的逻辑为单独方法\n    createNewWebSocketConnection: function createNewWebSocketConnection() {\n      var _this4 = this;\n      console.log(\"\\u521B\\u5EFAWebSocket\\u8FDE\\u63A5\\uFF0C\\u6A21\\u62DFID: \".concat(this.simulationId));\n      this.socket = setupWebSocket(this.simulationId, {\n        onOpen: function onOpen() {\n          console.log(\"WebSocket\\u8FDE\\u63A5\\u5DF2\\u5EFA\\u7ACB\\uFF0C\\u6A21\\u62DFID: \".concat(_this4.simulationId));\n          _this4.showSuccessStatus('WebSocket连接已建立');\n          _this4.isConnecting = false; // 重置连接状态\n        },\n        onMessage: function onMessage(data) {\n          _this4.handleWebSocketMessage(data);\n        },\n        onClose: function onClose(event) {\n          // 如果是正常关闭，不显示错误\n          if (event.code !== 1000 && event.code !== 1001) {\n            _this4.showWarningStatus('WebSocket连接已关闭');\n          }\n          _this4.isConnecting = false; // 重置连接状态\n        },\n        onError: function onError() {\n          _this4.showErrorStatus('WebSocket连接错误');\n          _this4.isConnecting = false; // 重置连接状态\n        }\n      });\n    },\n    // 改进closeWebSocketConnection方法\n    closeWebSocketConnection: function closeWebSocketConnection() {\n      if (this.socket) {\n        console.log(\"\\u5173\\u95EDWebSocket\\u8FDE\\u63A5\\uFF0C\\u6A21\\u62DFID: \".concat(this.simulationId));\n        closeWebSocket(this.socket);\n        this.socket = null;\n      }\n    },\n    // 处理WebSocket消息\n    handleWebSocketMessage: function handleWebSocketMessage(data) {\n      // 计算延迟\n      this.calculateWsLatency();\n\n      // 处理错误\n      if (data.error) {\n        console.error('WebSocket错误:', data.error);\n        this.$toast.error(\"WebSocket\\u9519\\u8BEF: \".concat(data.error));\n        return;\n      }\n\n      // 使用防抖更新数据，避免频繁更新\n      this.updateSimulationDataDebounced(data);\n    },\n    // 计算WebSocket延迟\n    calculateWsLatency: function calculateWsLatency() {\n      var now = performance.now();\n      if (this.lastMessageTime) {\n        this.wsLatency = Math.round(now - this.lastMessageTime);\n      }\n      this.lastMessageTime = now;\n    },\n    // 防抖更新数据\n    updateSimulationDataDebounced: function updateSimulationDataDebounced(data) {\n      var _this5 = this;\n      if (this.dataUpdateTimer) {\n        clearTimeout(this.dataUpdateTimer);\n      }\n      this.dataUpdateTimer = setTimeout(function () {\n        var startTime = performance.now();\n\n        // 更新模拟数据\n        _this5.simulation = data;\n        _this5.isRunning = data.is_running;\n        _this5.isCaptured = data.is_captured;\n\n        // 更新Vuex存储\n        _this5.$store.dispatch('updateSimulationAgents', {\n          simulationId: _this5.simulationId,\n          hunters: data.hunters || [],\n          targets: data.targets || []\n        });\n\n        // 计算渲染时间\n        _this5.renderTime = Math.round(performance.now() - startTime);\n      }, 50); // 50ms防抖延迟\n    },\n    // 模拟控制方法\n    startSimulation: function startSimulation() {\n      var _this6 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              // 先关闭可能存在的旧连接\n              console.log('启动模拟，关闭已有WebSocket连接');\n              _this6.closeWebSocketConnection();\n\n              // 添加短延迟确保连接完全关闭\n              _context3.next = 5;\n              return new Promise(function (resolve) {\n                return setTimeout(resolve, 200);\n              });\n            case 5:\n              _context3.next = 7;\n              return _this6.$store.dispatch('startSimulation', _this6.simulationId);\n            case 7:\n              _this6.isRunning = true;\n\n              // 重新建立WebSocket连接以接收实时更新\n              console.log('模拟已启动，创建新WebSocket连接');\n              _this6.setupWebSocketConnection();\n              _this6.$toast.success('模拟已启动');\n              _context3.next = 18;\n              break;\n            case 13:\n              _context3.prev = 13;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.error('启动模拟失败:', _context3.t0);\n              _this6.$toast.error('启动模拟失败');\n              _this6.isConnecting = false; // 确保重置连接状态\n            case 18:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[0, 13]]);\n      }))();\n    },\n    stopSimulation: function stopSimulation() {\n      var _this7 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return _this7.$store.dispatch('stopSimulation', _this7.simulationId);\n            case 3:\n              _this7.isRunning = false;\n              _this7.$toast.success('模拟已停止');\n              _context4.next = 11;\n              break;\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](0);\n              console.error('停止模拟失败:', _context4.t0);\n              _this7.$toast.error('停止模拟失败');\n            case 11:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, null, [[0, 7]]);\n      }))();\n    },\n    resetSimulation: function resetSimulation() {\n      var _this8 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var data;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return _this8.$store.dispatch('resetSimulation', _this8.simulationId);\n            case 3:\n              data = _context5.sent;\n              _this8.simulation = data;\n              _this8.isRunning = false;\n              _this8.isCaptured = false;\n              _this8.$toast.success('模拟已重置');\n              _context5.next = 14;\n              break;\n            case 10:\n              _context5.prev = 10;\n              _context5.t0 = _context5[\"catch\"](0);\n              console.error('重置模拟失败:', _context5.t0);\n              _this8.$toast.error('重置模拟失败');\n            case 14:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5, null, [[0, 10]]);\n      }))();\n    },\n    deleteSimulation: function deleteSimulation() {\n      var _this9 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              _this9.deleteLoading = true;\n              _context6.prev = 1;\n              _context6.next = 4;\n              return _this9.$store.dispatch('deleteSimulation', _this9.simulationId);\n            case 4:\n              _this9.$toast.success('模拟已删除');\n              _this9.$router.push('/simulations');\n              _context6.next = 12;\n              break;\n            case 8:\n              _context6.prev = 8;\n              _context6.t0 = _context6[\"catch\"](1);\n              console.error('删除模拟失败:', _context6.t0);\n              _this9.$toast.error('删除模拟失败');\n            case 12:\n              _context6.prev = 12;\n              _this9.deleteLoading = false;\n              _this9.showDeleteDialog = false;\n              return _context6.finish(12);\n            case 16:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee6, null, [[1, 8, 12, 16]]);\n      }))();\n    },\n    // 优化页面可见性变化处理\n    handleVisibilityChange: function handleVisibilityChange() {\n      if (document.hidden) {\n        // 页面隐藏时关闭WebSocket\n        console.log('页面隐藏，关闭WebSocket连接');\n        this.closeWebSocketConnection();\n      } else {\n        // 页面可见时，只在需要时重新连接\n        if (this.isRunning && !this.isCaptured && !this.socket && !this.isConnecting) {\n          console.log('页面可见，模拟运行中，重新连接WebSocket');\n          this.setupWebSocketConnection();\n        }\n      }\n    },\n    // 优化窗口焦点变化处理\n    handleWindowFocus: function handleWindowFocus() {\n      if (this.isRunning && !this.isCaptured && !this.socket && !this.isConnecting) {\n        console.log('窗口获得焦点，模拟运行中，重新连接WebSocket');\n        this.setupWebSocketConnection();\n      }\n    },\n    handleWindowBlur: function handleWindowBlur() {\n      // 窗口失去焦点时无需处理\n    },\n    // 导航方法\n    navigateToList: function navigateToList() {\n      // 清理资源后再导航\n      this.closeWebSocketConnection();\n      this.cleanupTimers();\n      this.$router.push('/simulations');\n    },\n    // 状态提示显示方法\n    showInfoStatus: function showInfoStatus(message) {\n      this.connectionStatusText = message;\n      this.connectionStatusColor = 'info';\n      this.showConnectionStatus = true;\n    },\n    showSuccessStatus: function showSuccessStatus(message) {\n      this.connectionStatusText = message;\n      this.connectionStatusColor = 'success';\n      this.showConnectionStatus = true;\n    },\n    showWarningStatus: function showWarningStatus(message) {\n      this.connectionStatusText = message;\n      this.connectionStatusColor = 'warning';\n      this.showConnectionStatus = true;\n    },\n    showErrorStatus: function showErrorStatus(message) {\n      this.connectionStatusText = message;\n      this.connectionStatusColor = 'error';\n      this.showConnectionStatus = true;\n    },\n    // 错误处理\n    handleApiError: function handleApiError(error) {\n      console.error('API错误:', error);\n\n      // 特定错误处理\n      if (error.status === 404 && error.message.includes('Simulation not found')) {\n        this.$toast.error('模拟不存在或已被删除');\n        this.$router.push('/simulations');\n      }\n    },\n    // 清理定时器\n    cleanupTimers: function cleanupTimers() {\n      if (this.dataUpdateTimer) {\n        clearTimeout(this.dataUpdateTimer);\n        this.dataUpdateTimer = null;\n      }\n    },\n    // 新增: 角色配置方法\n    updateHunterRole: function updateHunterRole(_ref) {\n      var hunterId = _ref.hunterId,\n        role = _ref.role;\n      // 更新单个猎手角色\n      var hunter = this.simulation.hunters.find(function (h) {\n        return h.id === hunterId;\n      });\n      if (hunter) {\n        hunter.role = role;\n      }\n    },\n    applyRoles: function applyRoles(roleMapping) {\n      // 批量应用角色配置\n      this.simulation.hunters.forEach(function (hunter) {\n        if (roleMapping[hunter.id]) {\n          hunter.role = roleMapping[hunter.id];\n        }\n      });\n\n      // 可以发送到后端更新\n      this.$toast.success('角色配置已应用');\n    },\n    // 新增: 环境设置方法\n    toggleObstacles: function toggleObstacles(show) {\n      // 控制障碍物显示/隐藏\n      if (this.$refs.canvas) {\n        this.$refs.canvas.showObstacles = show;\n        this.drawSimulation(); // 重新绘制\n      }\n    },\n    regenerateObstacles: function regenerateObstacles(count) {\n      // 这里应该有实际的API调用来重新生成障碍物\n      // 简化实现：仅显示提示\n      this.$toast.info(\"\\u51C6\\u5907\\u91CD\\u65B0\\u751F\\u6210\".concat(count, \"\\u4E2A\\u969C\\u788D\\u7269\\uFF08\\u9700\\u540E\\u7AEFAPI\\u652F\\u6301\\uFF09\"));\n\n      // 实际实现可能如下:\n      // this.axios.post(`/simulations/${this.simulationId}/regenerate-obstacles`, { count })\n      //   .then(response => {\n      //     this.simulation.obstacles = response.data.obstacles;\n      //     this.$toast.success('障碍物已重新生成');\n      //   })\n      //   .catch(error => {\n      //     console.error('重新生成障碍物失败:', error);\n      //     this.$toast.error('重新生成障碍物失败');\n      //   });\n    }\n  },\n  watch: {\n    simulationId: {\n      handler: function handler(newId, oldId) {\n        if (newId !== oldId) {\n          console.log(\"\\u6A21\\u62DFID\\u53D8\\u66F4: \".concat(oldId, \" -> \").concat(newId));\n          // 重新初始化组件\n          this.closeWebSocketConnection();\n          this.cleanupTimers();\n          this.initializeComponent();\n        }\n      },\n      immediate: false\n    },\n    // 监视store中的当前模拟数据变化\n    storeCurrentSimulation: {\n      handler: function handler(newSimulation) {\n        if (newSimulation && newSimulation.id === this.simulationId) {\n          // 仅在首次加载或重要属性变化时更新本地数据\n          if (!this.simulation.id || newSimulation.is_running !== this.simulation.is_running || newSimulation.is_captured !== this.simulation.is_captured) {\n            this.simulation = newSimulation;\n            this.isRunning = newSimulation.is_running;\n            this.isCaptured = newSimulation.is_captured;\n          }\n        }\n      },\n      deep: true\n    }\n  }\n};","map":{"version":3,"names":["SimulationCanvas","SimulationInfo","HunterStatisticsChart","PerformanceMonitor","RoleConfigPanel","EnvironmentSettingsPanel","setupWebSocket","closeWebSocket","mapState","mapGetters","name","components","props","simulationId","type","Number","required","data","simulation","isRunning","isCaptured","socket","showTrails","showVisionRange","showCommunicationRange","showDeleteDialog","deleteLoading","activeTab","wsLatency","lastMessageTime","showConnectionStatus","connectionStatusText","connectionStatusColor","renderTime","lastRenderTimestamp","dataUpdateTimer","isConnecting","computed","_objectSpread","storeCurrentSimulation","state","currentSimulation","simulationsLoading","loading","statusChipColor","statusChipText","created","$root","$on","handleApiError","mounted","console","log","document","addEventListener","handleVisibilityChange","window","handleWindowFocus","handleWindowBlur","initializeComponent","beforeDestroy","closeWebSocketConnection","cleanupTimers","$off","removeEventListener","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","fetchSimulation","id","setupWebSocketConnection","t0","error","showErrorStatus","stop","_this2","_callee2","storeSimulation","response","_callee2$","_context2","getSimulationById","$store","dispatch","sent","is_running","is_captured","abrupt","$toast","_this3","setTimeout","createNewWebSocketConnection","_this4","concat","onOpen","showSuccessStatus","onMessage","handleWebSocketMessage","onClose","event","code","showWarningStatus","onError","calculateWsLatency","updateSimulationDataDebounced","now","performance","Math","round","_this5","clearTimeout","startTime","hunters","targets","startSimulation","_this6","_callee3","_callee3$","_context3","Promise","resolve","success","stopSimulation","_this7","_callee4","_callee4$","_context4","resetSimulation","_this8","_callee5","_callee5$","_context5","deleteSimulation","_this9","_callee6","_callee6$","_context6","$router","push","finish","hidden","navigateToList","showInfoStatus","message","status","includes","updateHunterRole","_ref","hunterId","role","hunter","find","h","applyRoles","roleMapping","forEach","toggleObstacles","show","$refs","canvas","showObstacles","drawSimulation","regenerateObstacles","count","info","watch","handler","newId","oldId","immediate","newSimulation","deep"],"sources":["src/views/SimulationDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"simulation-detail\">\r\n    <v-container fluid class=\"content-container\">\r\n      <v-row no-gutters class=\"content-row\">\r\n        <!-- 左侧模拟画布区域 -->\r\n        <v-col cols=\"12\" md=\"8\" class=\"pr-md-2\">\r\n          <v-card class=\"simulation-canvas-card\">\r\n            <div class=\"d-flex align-center px-2\">\r\n              <div class=\"title-section\">\r\n                <span class=\"subtitle-1 font-weight-medium\">{{ simulation.name }}</span>\r\n              </div>\r\n              <v-spacer></v-spacer>\r\n              <v-chip x-small :color=\"statusChipColor\" text-color=\"white\" class=\"ml-2\">\r\n                {{ statusChipText }}\r\n              </v-chip>\r\n            </div>\r\n            \r\n            <!-- 模拟画布 - 传递障碍物信息 -->\r\n            <simulation-canvas\r\n              ref=\"canvas\"\r\n              :hunters=\"simulation.hunters || []\"\r\n              :targets=\"simulation.targets || []\"\r\n              :environment-size=\"simulation.environment_size || 500\"\r\n              :is-running=\"isRunning\"\r\n              :is-captured=\"isCaptured\"\r\n              :show-trails=\"showTrails\"\r\n              :show-vision-range=\"showVisionRange\"\r\n              :show-communication-range=\"showCommunicationRange\"\r\n              :obstacles=\"simulation.obstacles || []\"\r\n            ></simulation-canvas>\r\n          </v-card>\r\n        </v-col>\r\n        \r\n        <!-- 右侧控制面板和数据分析区域 -->\r\n        <v-col cols=\"12\" md=\"4\">\r\n          <v-card class=\"control-panel mb-2\">\r\n            <v-card-title class=\"py-1 subtitle-1\">控制面板</v-card-title>\r\n            <v-card-text class=\"py-1\">\r\n              <!-- 控制按钮组 -->\r\n              <div class=\"d-flex mb-3 justify-center\">\r\n                <v-btn small color=\"primary\" :disabled=\"isRunning || isCaptured\" @click=\"startSimulation\" class=\"mx-1\">\r\n                  <v-icon small left>mdi-play</v-icon>开始\r\n                </v-btn>\r\n                <v-btn small color=\"error\" :disabled=\"!isRunning\" @click=\"stopSimulation\" class=\"mx-1\">\r\n                  <v-icon small left>mdi-stop</v-icon>停止\r\n                </v-btn>\r\n                <v-btn small color=\"warning\" :disabled=\"isRunning\" @click=\"resetSimulation\" class=\"mx-1\">\r\n                  <v-icon small left>mdi-refresh</v-icon>重置\r\n                </v-btn>\r\n              </div>\r\n              \r\n              <!-- 显示选项 -->\r\n              <div class=\"display-options mb-2\">\r\n                <div class=\"subtitle-2 mb-1\">显示选项</div>\r\n                <v-row dense>\r\n                  <v-col cols=\"4\">\r\n                    <v-switch dense hide-details label=\"轨迹\" v-model=\"showTrails\" class=\"mt-0\"></v-switch>\r\n                  </v-col>\r\n                  <v-col cols=\"4\">\r\n                    <v-switch dense hide-details label=\"视野范围\" v-model=\"showVisionRange\" class=\"mt-0\"></v-switch>\r\n                  </v-col>\r\n                  <v-col cols=\"4\">\r\n                    <v-switch dense hide-details label=\"通信范围\" v-model=\"showCommunicationRange\" class=\"mt-0\"></v-switch>\r\n                  </v-col>\r\n                </v-row>\r\n              </div>\r\n            </v-card-text>\r\n          </v-card>\r\n\r\n          <!-- 环境设置面板 -->\r\n          <v-card class=\"mb-2\">\r\n            <environment-settings-panel\r\n              :is-running=\"isRunning\"\r\n              :current-obstacles=\"simulation.obstacles || []\"\r\n              @toggle-obstacles=\"toggleObstacles\"\r\n              @regenerate-obstacles=\"regenerateObstacles\"\r\n            ></environment-settings-panel>\r\n          </v-card>\r\n          \r\n          <!-- 数据分析区域 - 使用标签页组织内容 -->\r\n          <v-card>\r\n            <v-tabs v-model=\"activeTab\" background-color=\"primary\" dark dense>\r\n              <v-tab>模拟信息</v-tab>\r\n              <v-tab>统计图表</v-tab>\r\n            </v-tabs>\r\n            \r\n            <v-tabs-items v-model=\"activeTab\">\r\n              <v-tab-item>\r\n                <simulation-info :simulation=\"simulation\"></simulation-info>\r\n              </v-tab-item>\r\n              <v-tab-item>\r\n                <hunter-statistics-chart\r\n                  :hunters=\"simulation.hunters || []\"\r\n                  :targets=\"simulation.targets || []\"\r\n                  :step-count=\"simulation.step_count || 0\"\r\n                  :is-running=\"isRunning\"\r\n                ></hunter-statistics-chart>\r\n                \r\n                <performance-monitor\r\n                  v-if=\"simulation.step_count > 0\"\r\n                  :render-time=\"renderTime\"\r\n                  :ws-latency=\"wsLatency\"\r\n                ></performance-monitor>\r\n              </v-tab-item>\r\n            </v-tabs-items>\r\n          </v-card>\r\n          \r\n          <!-- 底部操作按钮 -->\r\n          <v-card class=\"mt-2 pa-2\">\r\n            <div class=\"d-flex justify-space-between\">\r\n              <v-btn small text color=\"primary\" @click=\"navigateToList\">\r\n                <v-icon small left>mdi-arrow-left</v-icon>返回列表\r\n              </v-btn>\r\n              <v-btn small text color=\"error\" @click=\"showDeleteDialog = true\">\r\n                <v-icon small left>mdi-delete</v-icon>删除模拟\r\n              </v-btn>\r\n            </div>\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n    \r\n    <!-- 删除确认对话框 -->\r\n    <v-dialog v-model=\"showDeleteDialog\" max-width=\"400\">\r\n      <v-card>\r\n        <v-card-title class=\"headline\">确认删除?</v-card-title>\r\n        <v-card-text>此操作将永久删除该模拟及其所有相关数据，无法恢复。</v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn text @click=\"showDeleteDialog = false\">取消</v-btn>\r\n          <v-btn color=\"error\" text @click=\"deleteSimulation\" :loading=\"deleteLoading\">确认删除</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 导入组件\r\nimport SimulationCanvas from '../components/SimulationCanvas.vue';\r\nimport SimulationInfo from '../components/simulation/SimulationInfo.vue';\r\nimport HunterStatisticsChart from '../components/simulation/HunterStatisticsChart.vue';\r\nimport PerformanceMonitor from '../components/simulation/PerformanceMonitor.vue';\r\nimport RoleConfigPanel from '../components/simulation/RoleConfigPanel.vue';\r\nimport EnvironmentSettingsPanel from '../components/simulation/EnvironmentSettingsPanel.vue';\r\nimport { setupWebSocket, closeWebSocket } from '../components/simulation/WebSocketManager.js';\r\nimport { mapState, mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'SimulationDetail',\r\n  components: {\r\n    SimulationCanvas,\r\n    SimulationInfo,\r\n    HunterStatisticsChart,\r\n    PerformanceMonitor,\r\n    EnvironmentSettingsPanel\r\n  },\r\n  props: {\r\n    simulationId: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      simulation: {},\r\n      isRunning: false,\r\n      isCaptured: false,\r\n      socket: null,\r\n      showTrails: true,\r\n      showVisionRange: false,\r\n      showCommunicationRange: false,\r\n      showDeleteDialog: false,\r\n      deleteLoading: false,\r\n      \r\n      // 添加缺失的响应式属性\r\n      activeTab: 0,\r\n      \r\n      // WebSocket相关状态\r\n      wsLatency: 0,\r\n      lastMessageTime: 0,\r\n      \r\n      // 连接状态提示\r\n      showConnectionStatus: false,\r\n      connectionStatusText: '',\r\n      connectionStatusColor: 'info',\r\n      \r\n      // 性能监控\r\n      renderTime: 0,\r\n      lastRenderTimestamp: 0,\r\n      \r\n      // 数据处理相关\r\n      dataUpdateTimer: null,\r\n      \r\n      // 连接状态标记\r\n      isConnecting: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      storeCurrentSimulation: state => state.currentSimulation,\r\n      simulationsLoading: state => state.loading\r\n    }),\r\n    ...mapGetters([\r\n      'getSimulationById'\r\n    ]),\r\n    statusChipColor() {\r\n      if (this.isCaptured) return 'success';\r\n      if (this.isRunning) return 'primary';\r\n      return 'grey';\r\n    },\r\n    statusChipText() {\r\n      if (this.isCaptured) return '已捕获';\r\n      if (this.isRunning) return '进行中';\r\n      return '已停止';\r\n    }\r\n  },\r\n  created() {\r\n    // 注册错误处理事件监听\r\n    this.$root.$on('api-error', this.handleApiError);\r\n  },\r\n  mounted() {\r\n    console.log('SimulationDetail mounted');\r\n    // 监听页面可见性变化\r\n    document.addEventListener('visibilitychange', this.handleVisibilityChange);\r\n    window.addEventListener('focus', this.handleWindowFocus);\r\n    window.addEventListener('blur', this.handleWindowBlur);\r\n    \r\n    // 初始化组件\r\n    this.initializeComponent();\r\n  },\r\n  beforeDestroy() {\r\n    console.log('SimulationDetail beforeDestroy');\r\n    // 清理资源\r\n    this.closeWebSocketConnection();\r\n    this.cleanupTimers();\r\n    \r\n    // 移除事件监听\r\n    this.$root.$off('api-error', this.handleApiError);\r\n    document.removeEventListener('visibilitychange', this.handleVisibilityChange);\r\n    window.removeEventListener('focus', this.handleWindowFocus);\r\n    window.removeEventListener('blur', this.handleWindowBlur);\r\n  },\r\n  methods: {\r\n    // 初始化组件\r\n    async initializeComponent() {\r\n      console.log('初始化组件...');\r\n      try {\r\n        // 从API获取模拟数据\r\n        await this.fetchSimulation();\r\n        console.log('模拟数据获取成功:', this.simulation.id);\r\n        \r\n        // 设置WebSocket连接\r\n        this.setupWebSocketConnection();\r\n      } catch (error) {\r\n        console.error('初始化组件失败:', error);\r\n        this.showErrorStatus('初始化失败，请刷新页面重试');\r\n      }\r\n    },\r\n    \r\n    // 获取模拟数据\r\n    async fetchSimulation() {\r\n      try {\r\n        console.log('获取模拟数据, ID:', this.simulationId);\r\n        // 尝试从store获取数据\r\n        let storeSimulation = this.getSimulationById(this.simulationId);\r\n        \r\n        // 如果store中没有数据，从API获取\r\n        if (!storeSimulation) {\r\n          console.log('从API获取模拟数据');\r\n          const response = await this.$store.dispatch('fetchSimulation', this.simulationId);\r\n          this.simulation = response;\r\n        } else {\r\n          console.log('从Store获取模拟数据');\r\n          this.simulation = storeSimulation;\r\n        }\r\n        \r\n        // 更新状态\r\n        this.isRunning = this.simulation.is_running;\r\n        this.isCaptured = this.simulation.is_captured;\r\n        \r\n        console.log('模拟数据获取完成:', this.simulation.name);\r\n        return this.simulation;\r\n      } catch (error) {\r\n        console.error('获取模拟数据失败:', error);\r\n        this.$toast.error('获取模拟数据失败');\r\n        throw error;\r\n      }\r\n    },\r\n    \r\n    // 设置WebSocket连接\r\n    setupWebSocketConnection() {\r\n      // 连接创建中标记，防止重复创建\r\n      if (this.isConnecting) {\r\n        console.log('WebSocket连接已在创建中，避免重复创建');\r\n        return;\r\n      }\r\n      \r\n      this.isConnecting = true;\r\n      \r\n      // 确保先关闭已有连接\r\n      if (this.socket) {\r\n        console.log('关闭已有WebSocket连接，准备创建新连接');\r\n        this.closeWebSocketConnection();\r\n        \r\n        // 添加短延迟确保连接完全关闭\r\n        setTimeout(() => {\r\n          this.createNewWebSocketConnection();\r\n        }, 300);\r\n      } else {\r\n        this.createNewWebSocketConnection();\r\n      }\r\n    },\r\n    \r\n    // 提取创建连接的逻辑为单独方法\r\n    createNewWebSocketConnection() {\r\n      console.log(`创建WebSocket连接，模拟ID: ${this.simulationId}`);\r\n      \r\n      this.socket = setupWebSocket(this.simulationId, {\r\n        onOpen: () => {\r\n          console.log(`WebSocket连接已建立，模拟ID: ${this.simulationId}`);\r\n          this.showSuccessStatus('WebSocket连接已建立');\r\n          this.isConnecting = false; // 重置连接状态\r\n        },\r\n        onMessage: (data) => {\r\n          this.handleWebSocketMessage(data);\r\n        },\r\n        onClose: (event) => {\r\n          // 如果是正常关闭，不显示错误\r\n          if (event.code !== 1000 && event.code !== 1001) {\r\n            this.showWarningStatus('WebSocket连接已关闭');\r\n          }\r\n          this.isConnecting = false; // 重置连接状态\r\n        },\r\n        onError: () => {\r\n          this.showErrorStatus('WebSocket连接错误');\r\n          this.isConnecting = false; // 重置连接状态\r\n        }\r\n      });\r\n    },\r\n    \r\n    // 改进closeWebSocketConnection方法\r\n    closeWebSocketConnection() {\r\n      if (this.socket) {\r\n        console.log(`关闭WebSocket连接，模拟ID: ${this.simulationId}`);\r\n        closeWebSocket(this.socket);\r\n        this.socket = null;\r\n      }\r\n    },\r\n    \r\n    // 处理WebSocket消息\r\n    handleWebSocketMessage(data) {\r\n      // 计算延迟\r\n      this.calculateWsLatency();\r\n      \r\n      // 处理错误\r\n      if (data.error) {\r\n        console.error('WebSocket错误:', data.error);\r\n        this.$toast.error(`WebSocket错误: ${data.error}`);\r\n        return;\r\n      }\r\n      \r\n      // 使用防抖更新数据，避免频繁更新\r\n      this.updateSimulationDataDebounced(data);\r\n    },\r\n    \r\n    // 计算WebSocket延迟\r\n    calculateWsLatency() {\r\n      const now = performance.now();\r\n      if (this.lastMessageTime) {\r\n        this.wsLatency = Math.round(now - this.lastMessageTime);\r\n      }\r\n      this.lastMessageTime = now;\r\n    },\r\n    \r\n    // 防抖更新数据\r\n    updateSimulationDataDebounced(data) {\r\n      if (this.dataUpdateTimer) {\r\n        clearTimeout(this.dataUpdateTimer);\r\n      }\r\n      \r\n      this.dataUpdateTimer = setTimeout(() => {\r\n        const startTime = performance.now();\r\n        \r\n        // 更新模拟数据\r\n        this.simulation = data;\r\n        this.isRunning = data.is_running;\r\n        this.isCaptured = data.is_captured;\r\n        \r\n        // 更新Vuex存储\r\n        this.$store.dispatch('updateSimulationAgents', {\r\n          simulationId: this.simulationId,\r\n          hunters: data.hunters || [],\r\n          targets: data.targets || []\r\n        });\r\n        \r\n        // 计算渲染时间\r\n        this.renderTime = Math.round(performance.now() - startTime);\r\n      }, 50); // 50ms防抖延迟\r\n    },\r\n    \r\n    // 模拟控制方法\r\n    async startSimulation() {\r\n      try {\r\n        // 先关闭可能存在的旧连接\r\n        console.log('启动模拟，关闭已有WebSocket连接');\r\n        this.closeWebSocketConnection();\r\n        \r\n        // 添加短延迟确保连接完全关闭\r\n        await new Promise(resolve => setTimeout(resolve, 200));\r\n        \r\n        // 发送启动请求到API\r\n        await this.$store.dispatch('startSimulation', this.simulationId);\r\n        this.isRunning = true;\r\n        \r\n        // 重新建立WebSocket连接以接收实时更新\r\n        console.log('模拟已启动，创建新WebSocket连接');\r\n        this.setupWebSocketConnection();\r\n        \r\n        this.$toast.success('模拟已启动');\r\n      } catch (error) {\r\n        console.error('启动模拟失败:', error);\r\n        this.$toast.error('启动模拟失败');\r\n        this.isConnecting = false; // 确保重置连接状态\r\n      }\r\n    },\r\n    \r\n    async stopSimulation() {\r\n      try {\r\n        await this.$store.dispatch('stopSimulation', this.simulationId);\r\n        this.isRunning = false;\r\n        this.$toast.success('模拟已停止');\r\n      } catch (error) {\r\n        console.error('停止模拟失败:', error);\r\n        this.$toast.error('停止模拟失败');\r\n      }\r\n    },\r\n    \r\n    async resetSimulation() {\r\n      try {\r\n        const data = await this.$store.dispatch('resetSimulation', this.simulationId);\r\n        this.simulation = data;\r\n        this.isRunning = false;\r\n        this.isCaptured = false;\r\n        \r\n        this.$toast.success('模拟已重置');\r\n      } catch (error) {\r\n        console.error('重置模拟失败:', error);\r\n        this.$toast.error('重置模拟失败');\r\n      }\r\n    },\r\n    \r\n    async deleteSimulation() {\r\n      this.deleteLoading = true;\r\n      try {\r\n        await this.$store.dispatch('deleteSimulation', this.simulationId);\r\n        this.$toast.success('模拟已删除');\r\n        this.$router.push('/simulations');\r\n      } catch (error) {\r\n        console.error('删除模拟失败:', error);\r\n        this.$toast.error('删除模拟失败');\r\n      } finally {\r\n        this.deleteLoading = false;\r\n        this.showDeleteDialog = false;\r\n      }\r\n    },\r\n    \r\n    // 优化页面可见性变化处理\r\n    handleVisibilityChange() {\r\n      if (document.hidden) {\r\n        // 页面隐藏时关闭WebSocket\r\n        console.log('页面隐藏，关闭WebSocket连接');\r\n        this.closeWebSocketConnection();\r\n      } else {\r\n        // 页面可见时，只在需要时重新连接\r\n        if (this.isRunning && !this.isCaptured && !this.socket && !this.isConnecting) {\r\n          console.log('页面可见，模拟运行中，重新连接WebSocket');\r\n          this.setupWebSocketConnection();\r\n        }\r\n      }\r\n    },\r\n    \r\n    // 优化窗口焦点变化处理\r\n    handleWindowFocus() {\r\n      if (this.isRunning && !this.isCaptured && !this.socket && !this.isConnecting) {\r\n        console.log('窗口获得焦点，模拟运行中，重新连接WebSocket');\r\n        this.setupWebSocketConnection();\r\n      }\r\n    },\r\n    \r\n    handleWindowBlur() {\r\n      // 窗口失去焦点时无需处理\r\n    },\r\n    \r\n    // 导航方法\r\n    navigateToList() {\r\n      // 清理资源后再导航\r\n      this.closeWebSocketConnection();\r\n      this.cleanupTimers();\r\n      this.$router.push('/simulations');\r\n    },\r\n    \r\n    // 状态提示显示方法\r\n    showInfoStatus(message) {\r\n      this.connectionStatusText = message;\r\n      this.connectionStatusColor = 'info';\r\n      this.showConnectionStatus = true;\r\n    },\r\n    \r\n    showSuccessStatus(message) {\r\n      this.connectionStatusText = message;\r\n      this.connectionStatusColor = 'success';\r\n      this.showConnectionStatus = true;\r\n    },\r\n    \r\n    showWarningStatus(message) {\r\n      this.connectionStatusText = message;\r\n      this.connectionStatusColor = 'warning';\r\n      this.showConnectionStatus = true;\r\n    },\r\n    \r\n    showErrorStatus(message) {\r\n      this.connectionStatusText = message;\r\n      this.connectionStatusColor = 'error';\r\n      this.showConnectionStatus = true;\r\n    },\r\n    \r\n    // 错误处理\r\n    handleApiError(error) {\r\n      console.error('API错误:', error);\r\n      \r\n      // 特定错误处理\r\n      if (error.status === 404 && error.message.includes('Simulation not found')) {\r\n        this.$toast.error('模拟不存在或已被删除');\r\n        this.$router.push('/simulations');\r\n      }\r\n    },\r\n    \r\n    // 清理定时器\r\n    cleanupTimers() {\r\n      if (this.dataUpdateTimer) {\r\n        clearTimeout(this.dataUpdateTimer);\r\n        this.dataUpdateTimer = null;\r\n      }\r\n    },\r\n\r\n    // 新增: 角色配置方法\r\n    updateHunterRole({ hunterId, role }) {\r\n      // 更新单个猎手角色\r\n      const hunter = this.simulation.hunters.find(h => h.id === hunterId);\r\n      if (hunter) {\r\n        hunter.role = role;\r\n      }\r\n    },\r\n    \r\n    applyRoles(roleMapping) {\r\n      // 批量应用角色配置\r\n      this.simulation.hunters.forEach(hunter => {\r\n        if (roleMapping[hunter.id]) {\r\n          hunter.role = roleMapping[hunter.id];\r\n        }\r\n      });\r\n      \r\n      // 可以发送到后端更新\r\n      this.$toast.success('角色配置已应用');\r\n    },\r\n\r\n    // 新增: 环境设置方法\r\n    toggleObstacles(show) {\r\n      // 控制障碍物显示/隐藏\r\n      if (this.$refs.canvas) {\r\n        this.$refs.canvas.showObstacles = show;\r\n        this.drawSimulation(); // 重新绘制\r\n      }\r\n    },\r\n    \r\n    regenerateObstacles(count) {\r\n      // 这里应该有实际的API调用来重新生成障碍物\r\n      // 简化实现：仅显示提示\r\n      this.$toast.info(`准备重新生成${count}个障碍物（需后端API支持）`);\r\n      \r\n      // 实际实现可能如下:\r\n      // this.axios.post(`/simulations/${this.simulationId}/regenerate-obstacles`, { count })\r\n      //   .then(response => {\r\n      //     this.simulation.obstacles = response.data.obstacles;\r\n      //     this.$toast.success('障碍物已重新生成');\r\n      //   })\r\n      //   .catch(error => {\r\n      //     console.error('重新生成障碍物失败:', error);\r\n      //     this.$toast.error('重新生成障碍物失败');\r\n      //   });\r\n    }\r\n  },\r\n  watch: {\r\n    simulationId: {\r\n      handler(newId, oldId) {\r\n        if (newId !== oldId) {\r\n          console.log(`模拟ID变更: ${oldId} -> ${newId}`);\r\n          // 重新初始化组件\r\n          this.closeWebSocketConnection();\r\n          this.cleanupTimers();\r\n          this.initializeComponent();\r\n        }\r\n      },\r\n      immediate: false\r\n    },\r\n    \r\n    // 监视store中的当前模拟数据变化\r\n    storeCurrentSimulation: {\r\n      handler(newSimulation) {\r\n        if (newSimulation && newSimulation.id === this.simulationId) {\r\n          // 仅在首次加载或重要属性变化时更新本地数据\r\n          if (!this.simulation.id || \r\n              newSimulation.is_running !== this.simulation.is_running ||\r\n              newSimulation.is_captured !== this.simulation.is_captured) {\r\n            this.simulation = newSimulation;\r\n            this.isRunning = newSimulation.is_running;\r\n            this.isCaptured = newSimulation.is_captured;\r\n          }\r\n        }\r\n      },\r\n      deep: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.simulation-detail {\r\n  height: 100%;\r\n  overflow-y: auto;\r\n}\r\n\r\n/* 控制内容区域的最大宽度和居中 */\r\n.content-container {\r\n  max-width: 1200px !important;\r\n  margin: 0 auto !important;\r\n  padding: 12px !important; /* 修改为四周都有padding */\r\n}\r\n\r\n.content-row {\r\n  justify-content: center;\r\n}\r\n\r\n.simulation-canvas-card {\r\n  height: calc(100vh - 100px);\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: 16px; /* 添加顶部边距 */\r\n}\r\n\r\n.control-panel {\r\n  height: auto;\r\n}\r\n\r\n/* 控制元素样式优化 */\r\n:deep(.v-input--switch) {\r\n  margin-top: 0;\r\n}\r\n\r\n:deep(.v-messages) {\r\n  min-height: 0;\r\n}\r\n\r\n:deep(.v-card__title) {\r\n  padding: 8px 12px;\r\n}\r\n\r\n:deep(.v-card__text) {\r\n  padding: 8px 12px;\r\n}\r\n\r\n.title-section {\r\n  padding: 8px 4px;\r\n}\r\n\r\n/* 响应式设计优化 */\r\n@media (max-width: 960px) {\r\n  .simulation-canvas-card {\r\n    height: 60vh;\r\n  }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}